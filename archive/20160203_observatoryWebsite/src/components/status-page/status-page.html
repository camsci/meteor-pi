<h2>The Meteor Pi Network</h2>

<div class="row">
<div class="col-md-10">

    <div id="map_holder"
         style="width:100%; height:450px; background-color:#eee; display:inline-block; margin: 12px auto;">
        <div id="map_canvas" style="width:100%; height:100%;"></div>
    </div>
    <div data-bind="if: selectedObstory()">
        <div class="row">
            <div class="col-sm-6">
                <h4 style="padding:16px 0 0 0;">Recent sky clarity</h4>
                <chart-skyclarity params="obstory:selectedObstory()"></chart-skyclarity>
            </div>
            <div class="col-sm-6">
                <h4 style="padding:16px 0 0 0;">Trigger rate</h4>
                <chart-triggerrate params="obstory:selectedObstory()"></chart-triggerrate>
            </div>
        </div>

        <h4 style="padding:16px 0;">Status of camera <span data-bind="text:selectedObstory()"></span></h4>
        <div data-bind="foreach:obstoryMetadata[selectedObstory()]">
            <p data-bind="text:$data[1]">
            </p>
        </div>


        <div data-bind="if: user()!=null && user().roles.indexOf('obstory_admin')>=0">
            <h4 style="padding:16px 0;">Camera logs</h4>

            <div data-bind="foreach:logFiles">
                <p class="select-list"><a data-bind="text:title, attr:{href:url}"></a></p>
            </div>
        </div>
    </div>
</div>
    <div class="col-md-2">

        <h4 style="padding:20px 0;">Our cameras</h4>

        <div data-bind="foreach:obstoryIds">
            <p class="select-list">
                <a data-bind="text:$parent.obstoryObjs[$data].name, event: {click:$parent.setObstory($data)},
                            css: {active: $parent.selectedObstory()==$data}">
                </a>
            </p>
        </div>
    </div>


</div>